<!DOCTYPE HTML PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
    <title>Entities</title>
    <link type="text/css" rel="stylesheet" href="../res/css/bootstrap.min.css" />
    <link type="text/css" rel="stylesheet" href="lcl.css" />
</head>
<body>
    <div class="document-contents">
        <h3 id="DocEntityClasses">实体（Entity）</h3>
        <p>
            实体就是领域中需要唯一标识的领域概念。所以LCL定义了一个实体基类所以的实体都继承这个类，来标记是一个领域实体
        </p>
        <h3 id="DocEntityClasses">领域模型的种类？</h3>
        <ul>
            <li><strong>失血模型：</strong>模型仅仅包含数据的定义和getter/setter方法，业务逻辑和应用逻辑都放到服务层中。这种类在Java中叫POJO，在.NET中叫POCO。</li>
            <li><strong>贫血模型：</strong>贫血模型中包含了一些业务逻辑，但<strong>不包含依赖持久层的业务逻辑</strong>。这部分依赖于持久层的业务逻辑将会放到服务层中。可以看出，贫血模型中的领域对象是不依赖于持久层的。</strong></li>
            <li><strong>充血模型：</strong>充血模型中包含了所有的业务逻辑，<strong>包括依赖于持久层的业务逻辑</strong>。所以，使用充血模型的领域层是依赖于持久层，简单表示就是 UI层->服务层->领域层<->持久层。</-></strong></li>
            <li><strong>胀血模型：</strong>胀血模型就是把和业务逻辑不想关的其他应用逻辑（如授权、事务等）都放到领域模型中。我感觉胀血模型反而是另外一种的失血模型，因为服务层消失了，领域层干了服务层的事，到头来还是什么都没变。</strong></li>
        </ul>
        <pre lang="cs"> public abstract partial class BaseEntity
    {
        public BaseEntity()
        {
            AddDate = DateTime.Now;
            UpdateDate = DateTime.Now;
        }
        public static BaseEntity New(Type entityType)
        {
            return Activator.CreateInstance(entityType, true) as BaseEntity;
        }
        public int Id { get; set; }
     
        public int Status { get; set; }
        public Nullable&lt;datetime&gt; AddDate { get; set; }
        public Nullable&lt;datetime&gt; UpdateDate { get; set; }
    }
</pre>
        <p>实体示例</p>
        <pre>
  public partial class Role : BaseEntity
    {
        public Role()
        {
        }
        public string Name { get; set; }
    }
</pre>
    </div>
</body>
</html>
